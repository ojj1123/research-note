https://school.programmers.co.kr/learn/courses/30/lessons/92344?language=cpp


- 구간합, DP 문제
- N, M 은 최대 1,000이고 스킬의 개수가 250,000이어서 시간복잡도 O(NMK) 로 시간 초과 남
- 즉, **스킬을 사용해 건물 내구도를 업데이트 하는 연산을 줄여야한다**
- 처음에 떠올린 아이디어는 `skill` 배열을 돌 때마다 내구도를 변경하지 않고 **마지막에 한번에 변경할 수 있도록 구현하려 했다.** indexed tree를 이용해 볼 수 있을거 같았지만 정확한 풀이는 떠오르지 않았다.
- 힌트로 2D 상에서 indexed tree 처럼 특정 구간을 쿼리할 수 있는 방법이 있다는 것을 알게 됐다
- (r1, c1) ~ (r2, c2) 구간의 내구도를 변경하기 위해 해당 구간의 **변화량을 기록하는 배열**을 만든다
	- 위 구간의 내구도를 변경하기 위해 변화량 테이블의 4개의 요소만 변경하면 된다.
	- 아래 예시는 내구도를 1 증가시킬 때의 모습이다.
- 모든 스킬을 순회하면서 변화량 테이블을 변경하고, 마지막에 한번에 오른쪽 방향/아래쪽 방향으로 누적합을 구하며 각 건물 위치의 내구도 변화량을 구할 수 있는 것이다.
- 즉, 이 방법은 내가 처음에 생각했던 내구도를 마지막에 한번에 변경할 수 있는 것이었다!!
	- 시간복잡도 O(K + NM)
	![스크린샷 2023-10-05 19.36.24](../스크린샷%202023-10-05%2019.36.24.png)
	![스크린샷 2023-10-05 19.36.40](../스크린샷%202023-10-05%2019.36.40.png)


### 참고 문제

- [11660구간합구하기5](../boj/11660구간합구하기5.md)


### Reference

- [(바킹독) 2022 KAKAO BLIND RECRUITMENT(2022 카카오 블라인드) 비공식 해설 및 풀이]()
- [1D and 2D constant time per query range updates (a.k.a difference arrays)]() - 2d update constant time query 로 구글링